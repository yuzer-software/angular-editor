<div *ngIf="showToolbar" [class]="toolbarBgClass">
  <div class="btn-group m-1">
    <button
      type="button"
      title="Undo"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('undo')"
      [hidden]="isButtonHidden('undo')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'undo']" [fixedWidth]="true"></fa-icon>
    </button>
    <button
      type="button"
      title="Redo"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('redo')"
      [hidden]="isButtonHidden('redo')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'redo']" [fixedWidth]="true"></fa-icon>
    </button>
  </div>
  <div class="btn-group m-1">
    <button
      [id]="'bold-' + id"
      type="button"
      title="Bold"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('bold')"
      [disabled]="htmlMode"
      *ngIf="!isButtonHidden('bold')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'bold']" [fixedWidth]="true"></fa-icon>
    </button>
    <button
      [id]="'italic-' + id"
      type="button"
      title="Italic"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('italic')"
      [disabled]="htmlMode"
      *ngIf="!isButtonHidden('italic')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'italic']" [fixedWidth]="true"></fa-icon>
    </button>
    <button
      [id]="'underline-' + id"
      type="button"
      title="Underline"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('underline')"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('underline')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'underline']" [fixedWidth]="true"></fa-icon>
    </button>
    <button
      [id]="'strikeThrough-' + id"
      type="button"
      title="Strikethrough"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('strikeThrough')"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('strikeThrough')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'strikethrough']" [fixedWidth]="true"></fa-icon>
    </button>
    <button
      [id]="'subscript-' + id"
      type="button"
      title="Subscript"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('subscript')"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('subscript')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'subscript']" [fixedWidth]="true"></fa-icon>
    </button>
    <button
      [id]="'superscript-' + id"
      type="button"
      title="Superscript"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('superscript')"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('superscript')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'superscript']" [fixedWidth]="true"></fa-icon>
    </button>
  </div>
  <div class="btn-group m-1">
    <button
      [id]="'justifyLeft-' + id"
      type="button"
      title="Justify Left"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('justifyLeft')"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('justifyLeft')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'align-left']" [fixedWidth]="true"></fa-icon>
    </button>
    <button
      [id]="'justifyCenter-' + id"
      type="button"
      title="Justify Center"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('justifyCenter')"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('justifyCenter')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'align-center']" [fixedWidth]="true"></fa-icon>
    </button>
    <button
      [id]="'justifyRight-' + id"
      type="button"
      title="Justify Right"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('justifyRight')"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('justifyRight')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'align-right']" [fixedWidth]="true"></fa-icon>
    </button>
    <button
      [id]="'justifyFull-' + id"
      type="button"
      title="Justify Full"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('justifyFull')"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('justifyFull')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'align-justify']" [fixedWidth]="true"></fa-icon>
    </button>
  </div>
  <div class="btn-group m-1">
    <button
      [id]="'indent-' + id"
      type="button"
      title="Indent"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('indent')"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('indent')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'indent']" [fixedWidth]="true"></fa-icon>
    </button>
    <button
      [id]="'outdent-' + id"
      type="button"
      title="Outdent"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('outdent')"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('outdent')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'outdent']" [fixedWidth]="true"></fa-icon>
    </button>
  </div>
  <div class="btn-group m-1">
    <button
      [id]="'insertUnorderedList-' + id"
      type="button"
      title="Unordered List"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('insertUnorderedList')"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('insertUnorderedList')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'list-ul']" [fixedWidth]="true"></fa-icon>
    </button>
    <button
      [id]="'insertOrderedList-' + id"
      type="button"
      title="Ordered List"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('insertOrderedList')"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('insertOrderedList')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'list-ol']" [fixedWidth]="true"></fa-icon>
    </button>
  </div>
  <div class="btn-group m-1">
    <ae-select
      class="select-heading"
      [selectBtnClass]="toolbarBtnClass"
      [options]="headings"
      [(ngModel)]="block"
      (change)="triggerCommand(block)"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('heading')"
      tabindex="-1"
    ></ae-select>
  </div>
  <div class="btn-group m-1">
    <ae-select
      class="select-font"
      [selectBtnClass]="toolbarBtnClass"
      [options]="fonts"
      [(ngModel)]="fontName"
      (change)="setFontName(fontName)"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('fontName')"
      tabindex="-1"
    ></ae-select>
  </div>
  <div [ngClass]="{ 'btn-group m-1': !isButtonHidden('fontSize') }" [ngStyle]="{ display: 'inline-block' }">
    <ae-select
      class="select-font-size"
      [selectBtnClass]="toolbarBtnClass"
      [options]="fontSizes"
      [(ngModel)]="fontSize"
      (change)="setFontSize(fontSize)"
      [hidden]="isButtonHidden('fontSize')"
      tabindex="-1"
    >
    </ae-select>
  </div>
  <div class="btn-group m-1">
    <button
      [id]="'foregroundColorPicker-' + id"
      type="button"
      [class]="toolbarBtnClass"
      [style.color]="textColor"
      (click)="textColorToggle = !textColorToggle"
      title="Text Color"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('textColor')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'font']" [fixedWidth]="true"></fa-icon>
    </button>
    <input
      #textColorInput
      class="invisible"
      style="width: 0px !important; padding: 0px !important; border: none !important"
      [cpIgnoredElements]="[textColorInput]"
      [(cpToggle)]="textColorToggle"
      [(colorPicker)]="textColor"
      (colorPickerChange)="insertColor($event, 'textColor')"
    />
    <button
      [id]="'backgroundColorPicker-' + id"
      type="button"
      [class]="toolbarBtnClass"
      [style.color]="backgroundColor"
      (click)="backgroundColorToggle = !backgroundColorToggle"
      title="Background Color"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('backgroundColor')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'highlighter']" [fixedWidth]="true"></fa-icon>
    </button>
  </div>
  <!-- Place it after the btn group div so that it does not interfer with rounding. -->
  <input
    #backgroundColorInput
    class="invisible"
    style="width: 0px !important; padding: 0px !important; border: none !important"
    [cpIgnoredElements]="[backgroundColorInput]"
    [(cpToggle)]="backgroundColorToggle"
    [(colorPicker)]="backgroundColor"
    (colorPickerChange)="insertColor($event, 'backgroundColor')"
  />
  <div *ngIf="_customClasses" class="btn-group m-1">
    <ae-select
      class="select-custom-style"
      [selectBtnClass]="toolbarBtnClass"
      [options]="customClassList"
      [(ngModel)]="customClassId"
      (change)="setCustomClass(customClassId)"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('customClasses')"
      tabindex="-1"
    ></ae-select>
  </div>
  <div class="btn-group m-1">
    <ae-select
      class="select-heading"
      [selectBtnClass]="toolbarBtnClass"
      [options]="variables"
      [(ngModel)]="variableName"
      (change)="insertVariable($event)"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('heading')"
      tabindex="-1"
    ></ae-select>
  </div>
  <div class="btn-group m-1">
    <button
      [id]="'link-' + id"
      type="button"
      [class]="toolbarBtnClass"
      (click)="insertUrl()"
      title="Insert Link"
      [disabled]="isLinkButtonDisabled"
      [hidden]="isButtonHidden('link')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'link']" [fixedWidth]="true"></fa-icon>
    </button>
    <button
      [id]="'unlink-' + id"
      type="button"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('unlink')"
      title="Unlink"
      [disabled]="htmlMode || !linkSelected"
      [hidden]="isButtonHidden('unlink')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'unlink']" [fixedWidth]="true"></fa-icon>
    </button>
    <input style="display: none" accept="image/*" type="file" (change)="onFileChanged($event)" #fileInput />
    <button
      [id]="'insertImage-' + id"
      type="button"
      [class]="toolbarBtnClass"
      (click)="fileInput.click()"
      title="Insert Image"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('insertImage')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'image']" [fixedWidth]="true"></fa-icon>
    </button>
    <ng-container *ngIf="customButtons">
      <button
        *ngFor="let button of customButtons"
        [id]="button.customButtonId + '-' + id"
        type="button"
        [class]="toolbarBtnClass"
        (click)="button.onClick()"
        [disabled]="htmlMode"
        tabindex="-1"
      >
        <fa-icon [icon]="button.faIcon" [fixedWidth]="true"></fa-icon>
      </button>
    </ng-container>
    <button
      [id]="'insertVideo-' + id"
      type="button"
      [class]="toolbarBtnClass"
      (click)="insertVideo()"
      title="Insert Video"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('insertVideo')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'video']" [fixedWidth]="true"></fa-icon>
    </button>
    <button
      [id]="'insertHorizontalRule-' + id"
      type="button"
      title="Horizontal Line"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('insertHorizontalRule')"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('insertHorizontalRule')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'minus']" [fixedWidth]="true"></fa-icon>
    </button>
  </div>
  <div class="btn-group m-1">
    <button
      [id]="'clearFormatting-' + id"
      type="button"
      title="Clear Formatting"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('removeFormat')"
      [disabled]="htmlMode"
      [hidden]="isButtonHidden('removeFormat')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'remove-format']" [fixedWidth]="true"></fa-icon>
    </button>
  </div>
  <div class="btn-group m-1">
    <button
      [id]="'toggleEditorMode-' + id"
      type="button"
      title="HTML Code"
      [class]="toolbarBtnClass"
      (click)="triggerCommand('toggleEditorMode')"
      [hidden]="isButtonHidden('toggleEditorMode')"
      tabindex="-1"
    >
      <fa-icon [icon]="['fas', 'code']" [fixedWidth]="true"></fa-icon>
    </button>
  </div>
</div>
